# Air Flow - Game Design Document

## High-Level Concept

**Genre:** Incremental/Idle + Light Strategy  
**Theme:** Automated drone delivery network management  
**Core Hook:** Build and optimize drone routes connecting warehouses to depots across a growing city  
**Platform:** WebGL (itch.io), playable in browser  
**Development Time:** 3-4 weeks for prototype  
**Art Style:** Minimalist 3D low-poly, top-down view (Mini Metro/Motorways aesthetic)

---

## Elevator Pitch

*"Design automated drone delivery networks in a minimalist sci-fi city. Draw routes, watch drones deliver cargo, earn money to expand. Simple to learn, deep to optimize. Mini Metro meets incremental games."*

---

## Core Design Pillars

1. **Satisfying Automation** - Watch your drone network grow and operate automatically
2. **Strategic Optimization** - Route efficiency matters, bottlenecks create challenge
3. **Exponential Growth** - Incremental progression with compounding returns
4. **Minimal Complexity** - Clean, elegant systems without overwhelming mechanics
5. **Rapid Prototyping** - Scope for 3-week validation, expandable if successful

---

## Core Gameplay Loop

```
Warehouse generates Cargo
    ↓
Player draws Route to Depot
    ↓
Drone automatically picks up Cargo
    ↓
Drone follows Route and delivers
    ↓
Earn Money ($)
    ↓
Money unlocks: New Buildings, Upgrades, Expansion
    ↓
New Depots spawn → Need new Routes
    ↓
Network complexity increases → Optimization challenge
    ↓
LOOP continues with exponential growth
```

---

## Game Mechanics

### Buildings

#### 1. WAREHOUSE (Producer)
- **Function:** Generates raw cargo (Boxes) passively over time
- **Visual:** 2x2 blue rectangular platform with glowing icon
- **Generation Rate:** 1 Box every 3 seconds (upgradable)
- **Cost:** $0 (starter building - player begins with 1)
- **Placement:** Player clicks to place on grid

#### 2. DEPOT (Consumer)
- **Function:** Accepts cargo deliveries, pays money per delivery
- **Visual:** 1x1 green square platform with glowing icon
- **Payment:** $1 per Box, $5 per Crate
- **Cost:** Free (spawns automatically as you progress)
- **Spawning:** New Depot appears when previous one receives first delivery

#### 3. FACTORY (Converter) *[Week 2]*
- **Function:** Converts 2 Boxes → 1 Crate (higher value)
- **Visual:** 2x2 orange/yellow L-shaped platform
- **Processing Time:** 5 seconds per conversion
- **Cost:** $50
- **Unlock:** After earning $100
- **Purpose:** Create supply chains for exponential value

#### 4. DISTRIBUTION HUB (Router) *[Week 2]*
- **Function:** Multi-connector allowing 6 routes (vs 2 for normal buildings)
- **Visual:** 2x2 purple circular platform
- **Cost:** $30
- **Purpose:** Solve routing bottlenecks, enable complex networks
- **Unlock:** After earning $250

### Resources

#### BOXES (Basic Cargo)
- **Visual:** Small colored cube attached to drone
- **Value:** $1 when delivered to Depot
- **Source:** Generated by Warehouses
- **Purpose:** Basic resource for early game

#### CRATES (Processed Cargo) *[Week 2]*
- **Visual:** Larger cube (different color)
- **Value:** $5 when delivered to Depot
- **Source:** Factory conversion (2 Boxes → 1 Crate)
- **Purpose:** Higher-value output for supply chain optimization

### Routes

#### Route Drawing
- **Mechanic:** Click building A, drag to building B
- **Visual:** Cyan/white spline or straight line connecting buildings
- **Cost:** 1 route segment per connection (starting resource: 5 segments)
- **Earning More:** Routes can be purchased with money or earned weekly
- **Capacity:** Unlimited drones can use a route

#### Route Upgrades *[Week 3]*
- **Express Lane:** 2x drone speed on specific route ($25)
- **High Capacity:** Wider visual, allows more simultaneous drones ($30)

### Drones

#### Basic Behavior
- **Visual:** Small white sphere (0.2 unit diameter) with cyan trail renderer
- **Spawn:** Automatically spawns at Warehouse when cargo available
- **Pathfinding:** Follows route to nearest appropriate destination
- **Capacity:** 1 cargo item (upgradable to 2)
- **Speed:** 3 units/second (upgradable)
- **Return:** After delivery, returns to Warehouse for next pickup

#### Drone AI Logic
```
1. Idle at Warehouse
2. Check if cargo available
3. Pick up cargo
4. Find shortest route to appropriate destination
   - Boxes → Depot or Factory
   - Crates → Depot only
5. Follow route to destination
6. Deliver cargo
7. Return to Warehouse
8. GOTO 1
```

#### Drone Upgrades *[Week 3]*
- **Speed Boost:** +50% movement speed ($30 - applies to all drones)
- **Capacity Upgrade:** Can carry 2 items ($40)
- **Swarm Unlocks:** More drones spawn per Warehouse (automatic with upgrades)

---

## Progression System

### Money Economy

**Earning Money:**
- Box delivered: +$1
- Crate delivered: +$5
- Passive income scales exponentially as network grows

**Spending Money:**
- Buildings (Warehouse, Factory, Hub)
- Upgrades (production speed, drone capacity, route upgrades)
- Route segments (if depleted)

### Unlock Progression

```
$0      → Game Start
          ✓ 1 Warehouse (placed automatically)
          ✓ Route drawing enabled
          ✓ Depots spawn automatically

$100    → Factory Unlocked
          ✓ Can build Factories
          ✓ Conversion mechanic available

$250    → Distribution Hub Unlocked
          ✓ Can build Hubs
          ✓ Advanced routing possible

$500    → Drone Capacity Upgrade Available
          ✓ Drones can carry 2 items

$750    → Warehouse Upgrades Available
          ✓ Production speed tiers unlocked

$1000   → District Expansion
          ✓ Map size doubles
          ✓ New district type unlocked

$5000   → Prestige Available
          ✓ "Expand to New City" option
          ✓ Reset with permanent bonuses
```

### Upgrade Tiers

#### Warehouse Production Speed
- **Level 1:** 1 Box / 3 seconds (default)
- **Level 2:** 1 Box / 2 seconds ($20)
- **Level 3:** 1 Box / 1 second ($50)
- **Level 4:** 2 Boxes / 1 second ($150) *[Post-prototype]*

#### Global Drone Upgrades
- **Speed Tier 1:** Base speed 3 u/s (default)
- **Speed Tier 2:** +50% speed ($30)
- **Speed Tier 3:** +100% speed ($100) *[Post-prototype]*

- **Capacity Tier 1:** 1 item (default)
- **Capacity Tier 2:** 2 items ($40)

### Districts (Visual Variety) *[Week 2-3]*

#### Industrial District
- **Color:** Gray ground plane
- **Function:** Warehouses appear here naturally
- **Aesthetic:** Factory-like buildings in background (optional detail)

#### Commercial District
- **Color:** Blue ground plane
- **Function:** Depots spawn here naturally
- **Aesthetic:** Office buildings in background (optional detail)

#### Logistics District
- **Color:** Orange ground plane
- **Function:** Factories and Hubs can only be placed here
- **Aesthetic:** Landing pads, lights (optional detail)

### Prestige System *[Post-prototype]*

**"Expand to New City"**
- **Trigger:** Available after earning $5000
- **Effect:** Reset all progress BUT grant permanent bonuses:
  - +10% global drone speed
  - Start with 2 Warehouses instead of 1
  - Unlock new city map with different layout
- **Purpose:** Roguelike meta-progression, replayability

---

## Visual Style

### Art Direction

**Aesthetic:** Minimalist infographic meets sci-fi drone future  
**References:** Mini Metro, Mini Motorways, Monument Valley, Dorfromantik  
**Mood:** Clean, professional, satisfying, futuristic

### Color Palette

```
BACKGROUND:
- City Ground: Dark gray (#2a2a2a)
- Grid Lines: Subtle white (#ffffff at 10% opacity)

ACCENTS:
- Routes: Cyan (#00ffff)
- Drones: White (#ffffff) with cyan trail
- Warehouses: Blue (#0080ff)
- Depots: Green (#00ff80)
- Factories: Orange (#ff8000)
- Hubs: Purple (#8000ff)

UI:
- Background: Dark (#1a1a1a)
- Text: White (#ffffff)
- Positive/Money: Green (#00ff00)
- Cost: Yellow (#ffff00)
```

### 3D Assets Style

**Buildings:**
- Low-poly geometric primitives (cubes, cylinders, simple shapes)
- Flat shading (no complex lighting)
- Glowing icon/symbol above each building
- Subtle idle animations (optional float/bob)

**Drones:**
- Simple sphere (20 triangle mesh)
- Trail renderer (cyan, fades over distance)
- No complex model needed - visual clarity over detail

**Environment:**
- Top-down orthographic camera (45° angle)
- Simple ground plane with grid
- Optional: Silhouette city skyline in far background
- No clutter, pure functionality

### UI Design

**In-Game HUD:**
- Top-right: Money counter (large, animated when earning)
- Top-left: Route segments available
- Bottom-center: Building selection buttons (when unlocked)
- Bottom-right: Upgrade menu button

**Building Placement Mode:**
- Highlight valid placement areas
- Ghost preview of building before placement
- Cancel with right-click or ESC

**Visual Feedback:**
- Money gain: +$X floats up from Depot
- Building placed: Pulse animation
- Drone pickup/delivery: Subtle particle effect
- Route created: Line "draws" smoothly

---

## Technical Specifications

### Platform & Tools

**Engine:** Unity 6  
**Render Pipeline:** URP (Universal Render Pipeline) for better WebGL performance  
**Target Platform:** WebGL (itch.io hosting)  
**Target Performance:** 60 FPS with 200+ drones  
**Color Space:** Linear

### Scene Setup

**Camera:**
- Type: Orthographic
- Angle: 45° from top-down
- Size: Adjustable based on map scale
- Controls: Optional zoom (scroll wheel) and pan (edge scrolling or drag)

**Lighting:**
- Single Directional Light (flat, minimal shadows)
- Ambient light for clean look
- Emissive materials for glowing elements

### Project Structure // To be questioned or updated

```
Assets/
├── Scripts/
│   ├── Buildings/
│   │   ├── Building.cs (base class)
│   │   ├── Warehouse.cs
│   │   ├── Depot.cs
│   │   ├── Factory.cs
│   │   └── Hub.cs
│   ├── Drones/
│   │   ├── Drone.cs
│   │   └── DroneManager.cs
│   ├── Routes/
│   │   ├── Route.cs
│   │   └── RouteManager.cs
│   ├── Resources/
│   │   ├── Cargo.cs (Box, Crate types)
│   │   └── ResourceManager.cs
│   ├── Economy/
│   │   ├── MoneyManager.cs
│   │   └── UpgradeManager.cs
│   └── Managers/
│       ├── GameManager.cs
│       └── BuildingPlacementManager.cs
├── Prefabs/
│   ├── Buildings/
│   ├── Drones/
│   └── UI/
├── Materials/
├── Models/ (low-poly building meshes)
└── UI/
```


### Performance Considerations

**Optimization Strategy:**
1. **For prototype** Standard OOP, no optimization needed
2. **If performance issues arise:**
   - Object pooling for drones (reuse instead of Instantiate/Destroy)
   - Batch drone updates in single manager
   - GPU instancing (automatic for same material)

---

## Development Roadmap

### Phase 1: Core Loop

**Goal:** Validate core mechanic - "Is routing drones fun?"

**Task 1:**
- [ ] Project setup (Unity, URP, scene structure)
- [ ] Camera controller (orthographic, top-down)
- [ ] Grid visualization (ground plane + grid lines)
- [ ] Building placement system (click to place)

**Task 2:**
- [ ] Warehouse building (generates Boxes on timer)
- [ ] Depot building (accepts Boxes)
- [ ] Basic Box resource (visual + data)

**Task 3:**
- [ ] Route drawing system (click-drag between buildings)
- [ ] Route visual (spline or line renderer)
- [ ] Drone spawning at Warehouse

**Task 4:**
- [ ] Drone movement along route
- [ ] Drone picks up Box at Warehouse
- [ ] Drone delivers Box to Depot
- [ ] Money earned on delivery (+$1)

**Task 5:**
- [ ] New Depot spawns after first delivery
- [ ] Route segment economy (limited segments)
- [ ] Money system (earn, display, spend on routes)
- [ ] UI: Money counter, route segments counter

**Task 6-7:**
- [ ] Balancing (generation speed, drone speed, costs)
- [ ] Bug fixes
- [ ] Juice: particles, animations, feedback
- [ ] **PLAYTEST:** Is the core loop satisfying?

**Phase 1 Success Criteria:**
✅ Can place Warehouse and Depot  
✅ Can draw route connecting them  
✅ Drone picks up Box and delivers automatically  
✅ Earning money feels good  
✅ Want to expand network  

---

### Phase 2: Depth & Strategy

**Goal:** Add strategic depth through supply chains

**Tasks:**
- [ ] Factory building (converts 2 Boxes → 1 Crate)
- [ ] Crate resource (worth $5)
- [ ] Conversion mechanic (queue system)
- [ ] Distribution Hub (6-way connector)
- [ ] Multiple simultaneous drones per route
- [ ] Route capacity visualization
- [ ] Building upgrades: Warehouse production speed
- [ ] Unlock system ($100 → Factory, $250 → Hub)
- [ ] Districts (color-coded zones, visual only)

**Phase 2 Success Criteria:**
✅ Supply chains create strategic decisions  
✅ Optimization feels rewarding  
✅ Complexity scales without overwhelming  

---

### Phase 3: Polish & Publish

**Goal:** Make it feel like a complete game, publish to itch.io

**Tasks:**
- [ ] UI polish (menus, buttons, layout)
- [ ] Route upgrade system (express lanes)
- [ ] Drone upgrades (speed, capacity)
- [ ] Progression balancing (unlock timing, costs)
- [ ] Visual polish (particles, trails, animations)
- [ ] Sound effects (optional but recommended):
  - Drone pickup/delivery sound
  - Money earn sound
  - Building placement sound
  - Ambient drone hum
- [ ] Tutorial tooltips (first-time player guidance)
- [ ] WebGL build optimization
- [ ] itch.io page creation (description, screenshots, trailer)
- [ ] Publish and test in browser

**Phase 3 Success Criteria:**
✅ Game feels complete (not prototype-y)  
✅ WebGL build runs smoothly  
✅ Friends/testers enjoy playing  
✅ Published on itch.io  

---

### Post-Launch Expansion Ideas (If Successful)

**More Content**
- New building types (Recycler, Storage Silo, etc.)
- New resource types (create tech trees)
- Prestige system (reset with bonuses)
- More maps/cities with different layouts
- Challenge modes (time-limited, resource constraints)

**Meta Systems**
- Achievements/milestones
- Daily challenges
- Leaderboards (longest network, highest income)
- Statistics tracking (total deliveries, efficiency rating)

**dvanced Features (if targeting Steam)**
- 3D terrain variation (hills, rivers)
- Weather effects (slows drones)
- Random events (demand spikes, breakdowns)
- Sandbox mode (unlimited resources)
- Workshop support (player-made maps)

---

## Marketing & Positioning

### Target Audience
- **Primary:** Fans of Mini Metro/Motorways, incremental/idle games
- **Secondary:** Strategy/puzzle gamers, optimization enthusiasts
- **Platform:** PC (web browser via itch.io)

### Unique Selling Points
1. **"Mini Metro meets Incremental Games"** - unique genre blend
2. **Drone delivery theme** - unexplored in this genre
3. **Supply chain optimization** - deeper than typical routing games
4. **Free WebGL** - accessible, no download barrier
5. **Few weeks** **development** - rapid iteration potential

---

*This design document is a living reference. Update as development progresses and new insights emerge.*
